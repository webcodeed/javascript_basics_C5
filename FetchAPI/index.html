<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FETCH API</title>
</head>

<body>
  <button>Fetch Data</button>
  <div class="parent">
    <div class="user">
      <h2>John Doe</h2>
      <p>test@test.com</p>
      <p>S'lacatera mall</p>
    </div>
  </div>
</body>
<script>
  const btn = document.querySelector('button')

  // btn.addEventListener('click', () => {
  //   fetch("https://jsonplaceholder.typicode.com/users").then(response => {
  //     console.log(response)
  //     if (response.ok) {
  //       return response.json()
  //     } else {
  //       throw Error("Could not fetch data")
  //     }
  //   }).then(data => {
  //     console.log(data)
  //     data.forEach(el => {
  //       const user = `
  //       <div class="user">
  //         <h2>${el.name}</h2>
  //         <p>${el.email}</p>
  //         <p>${el.company.name}</p>
  //       </div>`
  //       document.querySelector('.parent').innerHTML += user
  //     })

  //   }).catch(error => console.error(error.message))
  // })

  btn.addEventListener('click', async function () {
    const res = await fetch("https://jsonplaceholder.typicode.com/users")
    const data = await res.json()

    data.forEach(el => {
      const user = `
        <div class="user">
          <h2>${el.name}</h2>
          <p>${el.email}</p>
          <p>${el.company.name}</p>
        </div>`
      document.querySelector('.parent').innerHTML += user
    })
  })

</script>

</html>